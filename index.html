<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App - Busca CEP</title>

</head>

<body>
    <h3>Aplicação busca CEP - IFMG+ - JS Básico</h3>
    <script>

        function buscarCep() {

            let cep = prompt('Digite aqui o CEP que você deseja buscar: ')
            let urlApi = "https://brasilapi.com.br/api/cep/v2/" + cep

            fetch(urlApi) //Puxar os dados do servidor externo
                .then(function (resposta) { //Depois que puxar os dados executar a função, recebe os dados da resposta
                    resposta.json().then(function (dados) {//func que recebe os dados transformados, e exc uma ação.
                        console.log(dados);

                        document.getElementById('id6').innerHTML = "O CEP buscado foi: " + cep
                        document.getElementById('id').innerHTML = "No estado de: " + dados.state
                        document.getElementById('id2').innerHTML = "Na cidade de: " + dados.city
                        document.getElementById('id3').innerHTML = "No bairro: " + dados.neighborhood
                        document.getElementById('id4').innerHTML = "No logadouro: " + dados.street
                        document.getElementById('id5').innerHTML = "Os dados foram fornecidos por: " +  dados.service
                    })
                })

                .catch(function (erro) {
                    console.log("Ocorreu um erro ao buscar os dados", erro)
                })


        }



        buscarCep()


    </script>

    <h4 id="id6"></h4>
    <h4 id="id"></h4>
    <h4 id="id2"></h4>
    <h4 id="id3"></h4>
    <h4 id="id4"></h4>
    <h4 id="id5"></h4>

</body>

</html>